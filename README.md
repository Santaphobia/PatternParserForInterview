PHP + MySQL

Задача:
1.	На вход дается строка вида <text1::text2::<test3::text4>text5>text6….
2.	Для раскрытия строки действуют следующие правила:
  - последовательность <text1::text2> раскрывается как одно из перечисленных через :: значений – text1 или text2
  - вложенные скобки раскрываются аналогично, вложенность может быть бесконечной
3. Необходимо реализовать генерацию всех возможных вариантов строки поданной на вход. В случае ошибки в синтаксисе строки (например, отсутствии закрывающей скобки) должно выводиться сообщение.
4. Полученные варианты раскрытия строки необходимо положить в БД. 
